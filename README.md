# アプリケーション名

B-CON

# アプリケーション概要

自身の安否状況を外出、帰宅の都度発信することにより、家族が安否確認のために無駄に連絡を取り合う必要をなくし、その負担やストレスを軽減します。
メモを作成すると安否状況と共に表示してメモがあることを知らせるので、ユーザーである他の家族と共有して普段の生活でも便利に使うことができます。
家族が同じ家で生活していない場合でも、このようにアプリ上で繋がることで安心感を得ることができます。

# URL

https://originalapp-ddt.onrender.com/

# テスト用アカウント

- Basic認証パスワード:aihonorin
- Basic認証ID:8790
- ユーザー1
 - メールアドレス:1@test.com
 - パスワード:d000000
- ユーザー2
 - メールアドレス:2@test.com
 - パスワード:f000000

# 利用方法

## 外出、帰宅を表示

1. トップページ（一覧ページ）のヘッダーから新規登録を行い家族アカウント登録ページに遷移する。
2. 新規登録時に入力した「家族コード」を再度入力し、家族アカウントを登録する。
3. トップページの「外出・帰宅」のカエルマークから入力フォームがあるページに遷移し、外出、帰宅の別を選択し登録する。（目的欄は任意で入力）
4. 選択したワードと登録した時点から経過した時間が計算され、経過時間が表示される。
5. 外出と帰宅の都度登録することで登録した家族間で安否状況を共有する。

## 共有メモ

1. 新規登録、家族アカウント登録後にトップページ（一覧ページ）の「メモ」のカエルマークからメモ一覧ページに遷移する。
2. ページ中央にある新規メモ作成ボタンから、メモを作成する。
3. メモ一覧ページに表示されたメモは家族間で共有するため、表示されたメモの隣にある各種ボタンから編集、削除、完了チェックをすることができる。
4. メモがある場合は、トップページ（一覧ページ）に「！メモがあります」とユーザーの欄にお知らせが表示され、これをクリックすることでメモ一覧に遷移する。

# アプリケーションを作成した背景
私が警察署交番勤務をしたとき、よく別居している高齢の親が心配なので警察に見にいって欲しいといった依頼の電話がありました。逆に、一人暮らしをしている高齢の方は、防犯面で不安を抱えているが、家族に迷惑をかけられないということで孤立するケースもよく見られました。安否確認は、電話やメール、LINEなどのツールを使って連絡すれば済む話ですが、仕事をしている家族にとっては朝も夜も毎日のように連絡することはとても労力がいることでそれなりの負担とストレスがかかることがこれまでの経験で分かりました。加えて共働き世帯が多く家にいつも1人で子供がいるといった世帯も多い中、様々な凶悪犯罪が後を絶たない状況にあり、日常において家族の安否確認は不可欠なものであると考えました。
これらの問題を少しでも解決するために、外出・帰宅といった日常必ず起こすアクションに絞って安否状況を発信することで負担やストレスをかけることなく家族の安否確認ができ、かつ日常的にアプリで繋がることで安心感を醸成できるアプリケーションを開発することにした。

# 洗い出した要件



# 実装した機能及び説明（画像）



# 実装予定の機能
現在、より直感的かつ効率的に操作できるようページ遷移した先のフォームからの入力ではなく、表示されたユーザーのイメージを直接、外出、帰宅の別に設定された場所にドロップし、表示切り替えできるような機能を思考中。
今後は、よりシンプルに使用できるよう新規登録時のemailなどの項目を減らしつつもセキュリティー面での向上を考えて、クライアント側がランダムに生成したユーザー識別コードを提供し、識別コードをユーザー間で承認する形で初めてアプリが利用できるようなセキュリティー機能や子供が使用することも考慮し、楽しんでアプリを積極的に使ってもらえるよう外出、帰宅の通知回数にイベント機能の実装を思考中。例えば回数に応じてユーザーを表すカエルのイメージが徐々にオタマジャクシからカエルに成長する機能などをつけることで、それを楽しみにした子供が自ら朝学校に登校する準備をしてスムーズに登校できるようになれば、朝の忙しい時間も余裕が作れるようになると思うので、このような機能も実装予定。

# データベース設計

![database](https://github.com/DDT1129/original-app/assets/128135841/36537632-931b-44ee-9af7-868b17717ce9)

# 画面遷移図

![screen_transition](https://github.com/DDT1129/original-app/assets/128135841/83c097fe-d52d-4374-ae12-b23cf79fabd6)

# 開発環境

- フロントエンド
- バックエンド
- インフラ
- テスト
- テキストエディタ
- タスク管理

# 工夫したポイント

利用者を高齢者と子供と想定したとき、無駄な機能は省いて必要最低限の機能のみ実装し、直感的に操作ができることを大前提に作成しました。表示される項目は、「外出」「帰宅」の2種類しかないので、さらに分かりやすくカエルのイメージを種類別に表示するようにしました。（飛び跳ねるカエル＝「外出」）、（横になるカエル＝「帰宅」）
通知した時刻も一目でわかるように、通知した時刻から現在までの経過時間を計算して、「（例）⚪︎分前に外出」といった表示がされるようにしました。
日常的に使えるようにプラスアルファの機能でメモアプリを実装しましたが、家族で共有できるようにあえて編集、削除といった機能権限を設定しないで家族間で自由に使えるようにしました。また、メモにチェック機能をつけることでタスク管理のようにして普段使いでも活かせるようにしました。
プライバシーな情報を扱うため、家族アカウント機能を設定し、バリデーションを複数箇所に設定してセキュリティ対策をしました。

# テーブル設計

## usersテーブル

|Column              |Type            |Options                     |
| ------------------ | -------------- | -------------------------- |
|nickname            |string          |null: false                 |
|code                |string          |null: false                 |
|email               |string          |null: false, unique: true   |
|encrypted_password  |string          |null: false                 |

### Association

- has_many :situations, dependent :destroy
- has_many :memos, dependent :destroy
- belongs_to :family_account, optional: true

## family_accountsテーブル

|Column         |Type        |Options                        |
| ------------- | ---------- | ----------------------------- |
|family_code    |string      |null: false, unique: false     |
|user_id        |references  |null: false, foreign_key: true |

### Association

- has_many :users

## situationsテーブル

|Column             |Type        |Options                          |
| ----------------- | ---------- | ------------------------------- |
|genre_id           |integer     |null: false                      |
|purpose            |string      |                                 |
|family_code        |string      |null: false                      |
|user_id            |references  |null: false, foreign_key: true   |

### Association

- belongs_to :genre
- belongs_to :user

## memosテーブル

|Column          |Type        |Options                         |
| -------------- | ---------- | ------------------------------ |
|text            |string      |null: false                     |
|family_code     |string      |null: false                     |
|completed       |boolean     |default: false                  |
|user_id         |references  |null: false, foreign_key: true  |

### Association

- belongs_to :user